"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[106],{5106:function(a,b,c){c.r(b),c.d(b,{"default":function(){return B}});var d=c(5893),e=c(8527),f=c(5152),g=c(7294),h=c(8153),i=c(1723),j=c(305),k=c(4193),l=c(134),m=c(9671),n=c(2195),o=c(5765);const p=function(a,b,c,d){"function"==typeof b&&"function"!=typeof c&&(d=c,c=b,b=null),(0,o.S4)(a,b,function(a,b){var d=b[b.length-1];return c(a,d?d.children.indexOf(a):null,d)},d)};var q=c(9645);function r(a){return new RegExp("^("+a+")$","i")}const s=new m();var t=c(4470);function u(a,b,c){let d=-1;if("list"===b.type)if(1===a.depth)b.children.push({type:"listItem",spread:!1,children:[{type:"paragraph",children:[{type:"link",title:null,url:"#"+(c.prefix||"")+a.id,children:v(a.children)}]}]});else if(b.children.length>0)u(a,b.children[b.children.length-1],c);else{const e={type:"listItem",spread:!1,children:[]};b.children.push(e),u(a,e,c)}else if(b.children[b.children.length-1]&&"list"===b.children[b.children.length-1].type)a.depth--,u(a,b.children[b.children.length-1],c);else{const f={type:"list",ordered:c.ordered,spread:!1,children:[]};b.children.push(f),a.depth--,u(a,f,c)}if("list"!==b.type||c.tight)b.spread=!c.tight;else for(b.spread=!1;++d<b.children.length;)if(b.children[d].children.length>1){b.spread=!0;break}}function v(a){let b=[],c=-1;if(a)for(;++c<a.length;)b=b.concat(w(a[c]));return b}function w(a){if("link"===a.type||"linkReference"===a.type||"footnote"===a.type||"footnoteReference"===a.type)return v(a.children);if("children"in a){const{children:b,position:c,...d}=a;return Object.assign(t(!0,{},d),{children:v(a.children)})}const{position:e,...f}=a;return t(!0,{},f)}function x(a={}){return b=>{const c=function(a,b){const c=b||{},d=c.heading?r(c.heading):null,e=function(a,b,c){const d=c.skip&&r(c.skip),e=(0,q.O)(c.parents||(b=>b===a)),f=[];let g,h,i;return s.reset(),p(a,"heading",function(a,j,k){const l=(0,n.B)(a,{includeImageAlt:!1}),m=a.data&&a.data.hProperties&&a.data.hProperties.id,o=s.slug(m||l);if(e(k)){if(null!==j&&b&&!g&&b.test(l)){g=j+1,i=a;return}null!==j&&i&&!h&&a.depth<=i.depth&&(h=j),!h&&b||c.maxDepth&&!(a.depth<=c.maxDepth)||d&&d.test(l)||f.push({depth:a.depth,children:a.children,id:o})}}),{index:g|| -1,endIndex:g?h||a.children.length:-1,map:f}}(a,d,c);return{index:d?e.index:null,endIndex:d?e.endIndex:null,map:e.map.length>0?(function(a,b){const{ordered:c=!1,tight:d=!1,prefix:e=null}=b,f={type:"list",ordered:c,spread:!1,children:[]};let g=Number.POSITIVE_INFINITY,h=-1;for(;++h<a.length;)a[h].depth<g&&(g=a[h].depth);for(h=-1;++h<a.length;)a[h].depth-=g-1;for(h=-1;++h<a.length;)u(a[h],f,{ordered:c,tight:d,prefix:e});return f})(e.map,c):null}}(b,Object.assign({},a,{heading:a.heading||"toc|table[ -]of[ -]contents?"}));null!==c.endIndex&&null!==c.index&& -1!==c.index&&c.map&&(b.children=[...b.children.slice(0,c.index),c.map,...b.children.slice(c.endIndex)])}}var y=c(4733),z=(0,f.default)(function(){return Promise.all([c.e(485),c.e(189)]).then(c.bind(c,1189))},{loadableGenerated:{webpack:function(){return[1189]},modules:["../components/post/PostTOC.tsx -> components/post/PostAnchor"]}}),A=/(?:^|\n)#{2,3}[ ](.*)/g,B=function(a){var b=a.content.match(A),c=null;b&&(c=b.join(" "));var f=(0,y.l)().use(k.Z).use(x,{maxDepth:3}).use(l.Z,{allowDangerousHtml:!0}).use(h.Z).use(j.Z).use(i.Z,{createElement:g.createElement,components:{a:function(a){return(0,d.jsx)(z,{href:a.href,children:a.children})}},Fragment:g.Fragment}).processSync("\n## Table of contents\n".concat(c)).result,m=[f.props.children[0],f.props.children[1],f.props.children[2],];return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(e.xu,{display:["none","none","none","block"],position:"sticky",top:"3rem",mt:"3rem",children:m})})}}}])